<div class="rbt-elements-area bg-color-white rbt-section-gap">
    <div class="container">
        <div class="row gy-5 row--30">

            <div class="col-lg-6">
                <div class="rbt-contact-form contact-form-style-1 max-width-auto">
                    <h3 class="title">Login</h3>
                    <h6>{{message}}</h6>
                    <small id="loginerror" class="text-danger"></small>
                    <form class="max-width-auto" id="loginform" action="/login" method="post">
                        <div class="form-group">
                            <input name="email" type="text" />
                            <label>Email *</label>
                            <span class="focus-border"></span>
                        </div>
                        <div class="form-group">
                            <input name="password" id="password" type="password">
                            <label>Password *</label>
                            <span class="focus-border"></span>
                        </div>

                        <div class="row mb--30">
                            <div class="col-lg-6">
                                <div class="rbt-checkbox">
                                    <input type="checkbox" id="rememberme" name="rememberme">
                                    <label for="rememberme">Remember me</label>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="rbt-lost-password text-end">
                                    <a class="rbt-btn-link" href="/forgetpassword">Forget password?</a>
                                </div>
                            </div>
                        </div>

                        <div class="form-submit-group">
                            <button type="submit" class="rbt-btn btn-md btn-gradient hover-icon-reverse w-100">
                                <span class="icon-reverse-wrapper">
                                    <span class="btn-text">Log In</span>
                                    <span class="btn-icon"><i class="feather-arrow-right"></i></span>
                                    <span class="btn-icon"><i class="feather-arrow-right"></i></span>
                                </span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>


            <div class="col-lg-6">
                <div class="rbt-contact-form contact-form-style-1 max-width-auto">
                    <h3 class="title">Register</h3>
                    <small class="text-danger" id="regerror"></small>
                    <form class="max-width-auto" action="/register" method="post">
                        <div class="form-group">
                            <input name="email" type="email" />
                            <label>Email address *</label>
                            <span class="focus-border"></span>
                        </div>
                        <div class="form-group">
                            <input name="mobile" type="number" required>
                            <label>Mobile *</label>
                            <span class="focus-border"></span>
                        </div>

                        <div class="form-group">
                            <input name="name" type="text" required>
                            <label>Name *</label>
                            <span class="focus-border"></span>
                        </div>

                        <div class="form-group">
                            <input name="password" id="regpassword" type="password">
                            <label>Password *</label>
                            <span class="focus-border"></span>
                        </div>

                        <div class="form-group">
                            <input onkeyup="validatePasswords()" id="cpassword" name="confirmPassword" type="password">
                            <label>Confirm Password *</label>
                            <span class="focus-border"></span>
                        </div>

                        <div class="form-submit-group">
                            <button type="submit" class="rbt-btn btn-md btn-gradient hover-icon-reverse w-100">
                                <span class="icon-reverse-wrapper">
                                    <span class="btn-text">Register</span>
                                    <span class="btn-icon"><i class="feather-arrow-right"></i></span>
                                    <span class="btn-icon"><i class="feather-arrow-right"></i></span>
                                </span>
                            </button>
                        </div>

                    </form>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    let passwordField = document.getElementById("password");
    const passwordError = document.getElementById("loginerror");

    passwordField.addEventListener("keyup", function () {
        const password = passwordField.value;
        const pattern = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@])[A-Za-z\d@]{8,}$/;


        if (password.match(pattern)) {
            passwordError.textContent = ""; // Clear the error message
        } else {
            passwordError.textContent = "Password must be 8+ characters and include a letter, a digit, and a special character.";
            return false
        }
    });


    const passwordFields = document.getElementById("regpassword");
    const passwordErrors = document.getElementById("regerror");
    const confirmPasswordField = document.getElementById("cpassword");


    passwordFields.addEventListener("keyup", function () {
        const password = passwordFields.value;
        const patternB = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@])[A-Za-z\d@]{8,}$/;

        if (password.match(patternB)) {
            passwordErrors.innerHTML = ""; // Clear the error message

        } else {
            passwordErrors.innerHTML = "Password must be 8+ characters and include a letter, a digit, and a special character.";
        }
    });


    function validatePasswords() {
        const password = passwordFields.value;
        const confirmPassword = confirmPasswordField.value;
        
        if (password !== confirmPassword) {
            passwordErrors.innerHTML = "Passwords do not match"
            return false; // Prevent form submission
            console.log('hai')
        }

        // Passwords match, continue with form submission
        passwordErrors.innerHTML = ""
        return true;
    }


</script>